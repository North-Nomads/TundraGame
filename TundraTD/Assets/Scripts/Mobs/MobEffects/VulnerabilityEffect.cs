using Mobs.MobsBehaviour;
using Spells;

namespace Mobs.MobEffects
{
	public class VulnerabilityEffect : Effect
	{
        public override int MaxTicksAmount { get; }

        public override VisualEffectCode Code => VisualEffectCode.Vulnerability;

        public BasicElement TargetElements { get; }

        public float DamageCoefficient { get; }

        public VulnerabilityEffect(int maxTicksAmount, BasicElement targetElements, float damageCoefficient)
        {
            MaxTicksAmount = maxTicksAmount;
            TargetElements = targetElements;
            DamageCoefficient = damageCoefficient;
        }

        public override float OnHitReceived(MobBehaviour mob, float damageAmount, BasicElement element)
        {
            if ((TargetElements & element) == element)
            {
                return damageAmount * DamageCoefficient;
            }
            return damageAmount;
        }
    }
}